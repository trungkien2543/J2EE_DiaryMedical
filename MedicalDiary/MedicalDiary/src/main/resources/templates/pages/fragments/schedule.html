<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{components/head :: head}">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.3.4/dist/sweetalert2.min.css">

</head>

<body th:replace="~{layouts/main :: layout}">
<div class="container-fluid" th:fragment="content">
    <th:block th:each="receipt : ${listReceipt}">
        <script th:inline="javascript">
            var place = /*[[${receipt.reason}]]*/ '';
            var start = /*[[${receipt.date}]]*/ '';
            var id_receipt = /*[[${receipt.idReceipt}]]*/ '';
            var event = {
                groupId: id_receipt || 'No ID',
                title: place || 'No Place',
                start: start || '2023-01-01'
            };
            if (!window.events) {
                window.events = [];
            }
            window.events.push(event);
        </script>
    </th:block>
    <div class="row">
        <div class="col-2">
            <div id="mini-calendar"></div>

            <!-- Danh sách checkbox giống như hình -->
            <!-- Danh sách checkbox -->
            <div class="checkbox-list">
                <div class="toggle-arrow" id="toggleArrow">
                    <span>My calendars</span>
                </div>
                <div class="checkbox-container" id="checkboxContainer">
                    <label>
                        <input type="checkbox" value="Lâm Hào Kiệt"> Lâm Hào Kiệt
                    </label>
                    <label>
                        <input type="checkbox" value="Birthdays"> Birthdays
                    </label>
                    <label>
                        <input type="checkbox" value="Gia đình"> Gia đình
                    </label>
                    <label>
                        <input type="checkbox" value="Tasks"> Tasks
                    </label>
                </div>
            </div>
        </div>
        <div class="col-10">
            <div id='calendar-container'>
                <div id='calendar'></div>
            </div>
        </div>
    </div>
</div>

</body>
</html>

<!-- Bootstrap JS và các script khác -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.3.4/dist/sweetalert2.min.js"></script>
<script src="../js/Schedule/calendar.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Hiển thị SweetAlert khi chọn checkbox
        var items = document.querySelectorAll('.checkbox-list input[type="checkbox"]');
        items.forEach(function(item) {
            item.addEventListener('change', function() {
                var itemName = this.value; // Lấy giá trị của checkbox
                Swal.fire({
                    title: 'Bạn đã chọn',
                    text: itemName,
                    icon: 'info',
                    confirmButtonText: 'OK'
                });
            });
        });

        // Ẩn/Hiện danh sách checkbox khi nhấn vào mũi tên
        var toggleArrow = document.getElementById('toggleArrow');
        var checkboxContainer = document.getElementById('checkboxContainer');
        toggleArrow.addEventListener('click', function() {
            checkboxContainer.classList.toggle('hidden');
            toggleArrow.classList.toggle('collapsed');
        });
    });
</script>